/* fancyBox v2.0.4 fancyapps.com | fancyapps.com/fancybox/#license */

(function(d,i,j){var c=j(d),h=j(i),b=j.fancybox=function(){b.open.apply(this,arguments)},g=!1,f=null;j.extend(b,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!j.browser.msie||6<j.browser.version||!i.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(j.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,e){j.isArray(a)||(a=[a]);if(a.length){b.close(!0),b.opts=j.extend(!0,{},b.defaults,e),b.group=a,b._start(b.opts.index||0)}},cancel:function(){if(!(b.coming&&!1===b.trigger("onCancel"))&&(b.coming=null,b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload)){b.imgPreload.onload=b.imgPreload.onabort=b.imgPreload.onerror=null}},close:function(a){b.cancel();if(b.current&&!1!==b.trigger("beforeClose")){b.unbindEvents(),!b.isOpen||a&&!0===a[0]?(j(".fancybox-wrap").stop().trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,j(".fancybox-item").remove(),b.wrap.stop(!0).removeClass("fancybox-opened"),b.inner.css("overflow","hidden"),b.transitions[b.current.closeMethod]())}},play:function(a){var l=function(){clearTimeout(b.player.timer)},k=function(){l();if(b.current&&b.player.isActive){b.player.timer=setTimeout(b.next,b.current.playSpeed)}},e=function(){l();j("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(b.player.isActive||a&&!1===a[0]){e()}else{if(b.current&&(b.current.loop||b.current.index<b.group.length-1)){b.player.isActive=!0,j("body").bind({"afterShow.player onUpdate.player":k,"onCancel.player beforeClose.player":e,"beforeLoad.player":l}),k(),b.trigger("onPlayStart")}}},next:function(){b.current&&b.jumpto(b.current.index+1)},prev:function(){b.current&&b.jumpto(b.current.index-1)},jumpto:function(a){b.current&&(a=parseInt(a,10),1<b.group.length&&b.current.loop&&(a>=b.group.length?a=0:0>a&&(a=b.group.length-1)),"undefined"!==typeof b.group[a]&&(b.cancel(),b._start(a)))},reposition:function(a){b.isOpen&&b.wrap.css(b._getPosition(a))},update:function(){b.isOpen&&(g||(f=setInterval(function(){if(g&&(g=!1,clearTimeout(f),b.current)){if(b.current.autoSize){b.inner.height("auto"),b.current.height=b.inner.height()}b._setDimension();b.current.canGrow&&b.inner.height("auto");b.reposition();b.trigger("onUpdate")}},100)),g=!0)},toggle:function(){if(b.isOpen){b.current.fitToView=!b.current.fitToView,b.update()}},hideLoading:function(){j("#fancybox-loading").remove()},showLoading:function(){b.hideLoading();j('<div id="fancybox-loading"></div>').click(b.cancel).appendTo("body")},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:c.width(),h:c.height()}},unbindEvents:function(){b.wrap&&b.wrap.unbind(".fb");h.unbind(".fb");c.unbind(".fb")},bindEvents:function(){var a=b.current,e=a.keys;a&&(c.bind("resize.fb, orientationchange.fb",b.update),e&&h.bind("keydown.fb",function(k){var l;if(!k.ctrlKey&&!k.altKey&&!k.shiftKey&&!k.metaKey&&0>j.inArray(k.target.tagName.toLowerCase(),["input","textarea","select","button"])){l=k.keyCode,-1<j.inArray(l,e.close)?(b.close(),k.preventDefault()):-1<j.inArray(l,e.next)?(b.next(),k.preventDefault()):-1<j.inArray(l,e.prev)&&(b.prev(),k.preventDefault())}}),j.fn.mousewheel&&a.mouseWheel&&1<b.group.length&&b.wrap.bind("mousewheel.fb",function(k,m){var l=j(k.target).get(0);if(0===l.clientHeight||l.scrollHeight===l.clientHeight){k.preventDefault(),b[0<m?"prev":"next"]()}}))},trigger:function(a){var k,e=b[-1<j.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(e){j.isFunction(e[a])&&(k=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===k){return !1}e.helpers&&j.each(e.helpers,function(m,l){if(l&&"undefined"!==typeof b.helpers[m]&&j.isFunction(b.helpers[m][a])){b.helpers[m][a](l,e)}});j.event.trigger(a+".fb")}},isImage:function(e){return e&&e.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(e){return e&&e.match(/\.(swf)(.*)?$/i)},_start:function(a){var o={},n=b.group[a]||null,l,m,e;if("object"===typeof n&&(n.nodeType||n instanceof j)){l=!0,j.metadata&&(o=j(n).metadata())}o=j.extend(!0,{},b.opts,{index:a,element:n},j.isPlainObject(n)?n:o);j.each(["href","title","content","type"],function(k,p){o[p]=b.opts[p]||l&&j(n).attr(p)||o[p]||null});if("number"===typeof o.margin){o.margin=[o.margin,o.margin,o.margin,o.margin]}o.modal&&j.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});b.coming=o;if(!1===b.trigger("beforeLoad")){b.coming=null}else{m=o.type;a=o.href;if(!m){l&&(e=j(n).data("fancybox-type"),!e&&n.className&&(m=(e=n.className.match(/fancybox\.(\w+)/))?e[1]:null)),!m&&a&&(b.isImage(a)?m="image":b.isSWF(a)?m="swf":a.match(/^#/)&&(m="inline")),m||(m=l?"inline":"html"),o.type=m}"inline"===m||"html"===m?(o.content=o.content||("inline"===m&&a?j(a):n),o.content.length||(m=null)):(o.href=a||n,o.href||(m=null));o.group=b.group;"image"===m?b._loadImage():"ajax"===m?b._loadAjax():m?b._afterLoad():b._error("type")}},_error:function(a){j.extend(b.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){b.imgPreload=new Image;b.imgPreload.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width;b.coming.height=this.height;b._afterLoad()};b.imgPreload.onerror=function(){this.onload=this.onerror=null;b._error("image")};b.imgPreload.src=b.coming.href;b.imgPreload.complete||b.showLoading()},_loadAjax:function(){b.showLoading();b.ajaxLoad=j.ajax(j.extend({},b.coming.ajax,{url:b.coming.href,error:function(a,e){"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(a,e){if("success"===e){b.coming.content=a,b._afterLoad()}}}))},_preload:function(){var a=b.group,k=b.current.index,e=function(l){if(l&&b.isImage(l)){(new Image).src=l}};1<a.length&&(e(j(a[k+1]||a[0]).attr("href")),e(j(a[k-1]||a[a.length-1]).attr("href")))},_afterLoad:function(){b.hideLoading();!b.coming||!1===b.trigger("afterLoad",b.current)?b.coming=!1:(b.isOpened?(j(".fancybox-item").remove(),b.wrap.stop(!0).removeClass("fancybox-opened"),b.inner.css("overflow","hidden"),b.transitions[b.current.prevMethod]()):(j(".fancybox-wrap").stop().trigger("onReset").remove(),b.trigger("afterClose")),b.unbindEvents(),b.isOpen=!1,b.current=b.coming,b.coming=!1,b.wrap=j(b.current.tpl.wrap).addClass("fancybox-tmp "+b.current.wrapCSS).appendTo("body"),b.outer=j(".fancybox-outer",b.wrap).css("padding",b.current.padding+"px"),b.inner=j(".fancybox-inner",b.wrap),b._setContent(),b.trigger("beforeShow"),b._setDimension(),b.wrap.hide().removeClass("fancybox-tmp"),b.bindEvents(),b._preload(),b.transitions[b.isOpened?b.current.nextMethod:b.current.openMethod]())},_setContent:function(){var a,l,k=b.current,e=k.type;switch(e){case"inline":case"ajax":case"html":a=k.content;"inline"===e&&a instanceof j&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),j(b.wrap).bind("onReset",function(){a.appendTo("body").hide()}));if(k.autoSize){l=j('<div class="fancybox-tmp"></div>').appendTo(j("body")).append(a),k.width=l.outerWidth(),k.height=l.outerHeight(!0),a=l.contents().detach(),l.remove()}break;case"image":a=k.tpl.image.replace("{href}",k.href);k.aspectRatio=!0;break;case"swf":a=k.tpl.swf.replace(/\{width\}/g,k.width).replace(/\{height\}/g,k.height).replace(/\{href\}/g,k.href);break;case"iframe":a=k.tpl.iframe.replace("{href}",k.href).replace("{scrolling}",k.scrolling).replace("{rnd}",(new Date).getTime())}if(-1<j.inArray(e,["image","swf","iframe"])){k.autoSize=!1,k.scrolling=!1}b.inner.append(a)},_setDimension:function(){var B=b.wrap,A=b.outer,z=b.inner,x=b.current,y=b.getViewport(),t=x.margin,v=2*x.padding,w=x.width+v,u=x.height+v,s=x.width/x.height,e=x.maxWidth,r=x.maxHeight,q=x.minWidth,a=x.minHeight;y.w-=t[1]+t[3];y.h-=t[0]+t[2];-1<w.toString().indexOf("%")&&(w=y.w*parseFloat(w)/100);-1<u.toString().indexOf("%")&&(u=y.h*parseFloat(u)/100);x.fitToView&&(e=Math.min(y.w,e),r=Math.min(y.h,r));q=Math.min(w,q);a=Math.min(w,a);e=Math.max(q,e);r=Math.max(a,r);x.aspectRatio?(w>e&&(w=e,u=(w-v)/s+v),u>r&&(u=r,w=(u-v)*s+v),w<q&&(w=q,u=(w-v)/s+v),u<a&&(u=a,w=(u-v)*s+v)):(w=Math.max(q,Math.min(w,e)),u=Math.max(a,Math.min(u,r)));w=Math.round(w);u=Math.round(u);j(B.add(A).add(z)).width("auto").height("auto");z.width(w-v).height(u-v);B.width(w);t=B.height();if(w>e||t>r){for(;(w>e||t>r)&&w>q&&t>a;){u-=10,x.aspectRatio?(w=Math.round((u-v)*s+v),w<q&&(w=q,u=(w-v)/s+v)):w-=10,z.width(w-v).height(u-v),B.width(w),t=B.height()}}x.dim={width:w,height:t};x.canGrow=x.autoSize&&u>a&&u<r;x.canShrink=!1;x.canExpand=!1;if(w-v<x.width||u-v<x.height){x.canExpand=!0}else{if((w>y.w||t>y.h)&&w>q&&u>a){x.canShrink=!0}}B=t-v;b.innerSpace=B-z.height();b.outerSpace=B-A.height()},_getPosition:function(a){var q=b.current,p=b.getViewport(),o=q.margin,n=b.wrap.width()+o[1]+o[3],l=b.wrap.height()+o[0]+o[2],m={position:"absolute",top:o[0]+p.y,left:o[3]+p.x};if(q.fixed&&(!a||!1===a[0])&&l<=p.h&&n<=p.w){m={position:"fixed",top:o[0],left:o[3]}}m.top=Math.ceil(Math.max(m.top,m.top+(p.h-l)*q.topRatio))+"px";m.left=Math.ceil(Math.max(m.left,m.left+0.5*(p.w-n)))+"px";return m},_afterZoomIn:function(){var a=b.current;b.isOpen=b.isOpened=!0;b.wrap.addClass("fancybox-opened").css("overflow","visible");b.update();b.inner.css("overflow","auto"===a.scrolling?"auto":"yes"===a.scrolling?"scroll":"hidden");if(a.closeClick||a.nextClick){b.inner.css("cursor","pointer").bind("click.fb",a.nextClick?b.next:b.close)}a.closeBtn&&j(a.tpl.closeBtn).appendTo(b.wrap).bind("click.fb",b.close);a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&j(a.tpl.prev).appendTo(b.wrap).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&j(a.tpl.next).appendTo(b.wrap).bind("click.fb",b.next));b.trigger("afterShow");if(b.opts.autoPlay&&!b.player.isActive){b.opts.autoPlay=!1,b.play()}},_afterZoomOut:function(){b.trigger("afterClose");b.wrap.trigger("onReset").remove();j.extend(b,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}});b.transitions={getOrigPosition:function(){var a=b.current.element,m={},l=50,e=50,k;a&&a.nodeName&&j(a).is(":visible")?(k=j(a).find("img:first"),k.length?(m=k.offset(),l=k.outerWidth(),e=k.outerHeight()):m=j(a).offset()):(a=b.getViewport(),m.top=a.y+0.5*(a.h-e),m.left=a.x+0.5*(a.w-l));return m={top:Math.ceil(m.top)+"px",left:Math.ceil(m.left)+"px",width:Math.ceil(l)+"px",height:Math.ceil(e)+"px"}},step:function(a,n){var m,l,k;if("width"===n.prop||"height"===n.prop){l=k=Math.ceil(a-2*b.current.padding),"height"===n.prop&&(m=(a-n.start)/(n.end-n.start),n.start>n.end&&(m=1-m),l-=b.innerSpace*m,k-=b.outerSpace*m),b.inner[n.prop](l),b.outer[n.prop](k)}},zoomIn:function(){var a=b.wrap,l=b.current,k,e;k=l.dim;if("elastic"===l.openEffect){e=j.extend({},k,b._getPosition(!0));delete e.position;k=this.getOrigPosition();if(l.openOpacity){k.opacity=0,e.opacity=1}a.css(k).show().animate(e,{duration:l.openSpeed,easing:l.openEasing,step:this.step,complete:b._afterZoomIn})}else{a.css(j.extend({},k,b._getPosition())),"fade"===l.openEffect?a.fadeIn(l.openSpeed,b._afterZoomIn):(a.show(),b._afterZoomIn())}},zoomOut:function(){var a=b.wrap,k=b.current,e;if("elastic"===k.closeEffect){"fixed"===a.css("position")&&a.css(b._getPosition(!0));e=this.getOrigPosition();if(k.closeOpacity){e.opacity=0}a.animate(e,{duration:k.closeSpeed,easing:k.closeEasing,step:this.step,complete:b._afterZoomOut})}else{a.fadeOut("fade"===k.closeEffect?k.closeSpeed:0,b._afterZoomOut)}},changeIn:function(){var a=b.wrap,k=b.current,e;"elastic"===k.nextEffect?(e=b._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",a.css(e).show().animate({opacity:1,top:"+=200px"},{duration:k.nextSpeed,complete:b._afterZoomIn})):(a.css(b._getPosition()),"fade"===k.nextEffect?a.hide().fadeIn(k.nextSpeed,b._afterZoomIn):(a.show(),b._afterZoomIn()))},changeOut:function(){var a=b.wrap,k=b.current,e=function(){j(this).trigger("onReset").remove()};a.removeClass("fancybox-opened");"elastic"===k.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:k.prevSpeed,complete:e}):a.fadeOut("fade"===k.prevEffect?k.prevSpeed:0,e)}};b.helpers.overlay={overlay:null,update:function(){var e,k;this.overlay.width(0).height(0);j.browser.msie?(e=Math.max(i.documentElement.scrollWidth,i.body.scrollWidth),k=Math.max(i.documentElement.offsetWidth,i.body.offsetWidth),e=e<k?c.width():e):e=h.width();this.overlay.width(e).height(h.height())},beforeShow:function(a){if(!this.overlay){this.overlay=j('<div id="fancybox-overlay"></div>').css(a.css||{background:"black"}).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",b.close),c.bind("resize.fb",j.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn||"fast",a.opacity||1)}},onUpdate:function(){this.update()},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||"fast",function(){j(this).remove()});this.overlay=null}};b.helpers.title={beforeShow:function(a){var e;if(e=b.current.title){e=j('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+e+"</div>").appendTo("body"),"float"===a.type&&(e.width(e.width()),e.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(parseInt(e.css("margin-bottom"),10))),e.appendTo("over"===a.type?b.inner:"outside"===a.type?b.wrap:b.outer)}}};j.fn.fancybox=function(a){function l(m){var p=[],n,o=this.rel;if(!m.ctrlKey&&!m.altKey&&!m.shiftKey&&!m.metaKey){m.preventDefault(),m=j(this).data("fancybox-group"),"undefined"!==typeof m?n=m?"data-fancybox-group":!1:o&&""!==o&&"nofollow"!==o&&(m=o,n="rel"),n&&(p=e.length?j(e).filter("["+n+'="'+m+'"]'):j("["+n+'="'+m+'"]')),p.length?(k.index=p.index(this),b.open(p.get(),k)):b.open(this,k)}}var k=a||{},e=this.selector||"";e?h.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",l):j(this).unbind("click.fb-start").bind("click.fb-start",l);return this}})(window,document,jQuery);